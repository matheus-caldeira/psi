@startuml uc08-registrar-avaliacao
title Diagrama de Atividades - UC08 Registrar Avaliação Física

start

:Professor acessa sistema;

:Professor seleciona "Avaliações";

:Sistema exibe avaliações\nagendadas para hoje;

if (Avaliação na lista?) then (sim)
    :Professor seleciona\navaliação agendada;
else (não)
    :Professor seleciona\n"Nova Avaliação";

    :Professor busca aluno;

    :Professor seleciona aluno;
endif

:Sistema exibe formulário\nde avaliação;

partition "Medidas Corporais" {
    :Professor registra peso;
    :Professor registra altura;
    :Professor calcula IMC;
    :Professor registra\npercentual de gordura;
    :Professor registra\ncircunferências;

    note right
        Circunferências:
        - Braço
        - Peitoral
        - Cintura
        - Quadril
        - Coxa
        - Panturrilha
    end note
}

partition "Testes Físicos" {
    :Professor registra\nteste de flexibilidade;
    :Professor registra\nteste de resistência;
    :Professor registra\nteste de força;
}

:Professor adiciona\nobservações gerais;

if (Dados completos?) then (sim)
    :Professor confirma registro;

    :Sistema salva avaliação;

    :Sistema atualiza histórico\ndo aluno;

    fork
        :Sistema notifica aluno\nsobre nova avaliação;
    fork again
        :Sistema disponibiliza dados\npara médico;
    end fork

    :Avaliação registrada\ncom sucesso;

else (não)
    :Sistema indica campos\nobrigatórios faltantes;

    backward:Professor registra peso;
endif

stop

@enduml
