@startuml uc02-agendar-avaliacao
title Diagrama de Atividades - UC02 Agendar Avaliação Física

start

:Aluno acessa sistema via web/mobile;

:Sistema solicita autenticação;

:Aluno se autentica;

:Aluno seleciona\n"Agendar Avaliação Física";

:Sistema exibe tipos de\navaliação disponíveis;

:Aluno seleciona tipo de avaliação;

repeat
    :Sistema exibe calendário\ncom horários disponíveis;

    if (Horários disponíveis?) then (sim)

        :Aluno seleciona data e horário;

        :Sistema exibe resumo\ndo agendamento;

        :Aluno confirma agendamento;

        if (Horário ainda disponível?) then (sim)

            :Sistema registra agendamento;

            fork
                :Sistema envia notificação\nao aluno;
            fork again
                :Sistema envia notificação\nao profissional;
            end fork

            :Agendamento confirmado;

            stop

        else (não)
            :Sistema informa conflito\nde horário;

            :Sistema atualiza calendário;
        endif

    else (não)
        :Sistema sugere\ndatas alternativas;

        if (Aluno aceita alternativa?) then (sim)
            :Aluno seleciona nova data;
        else (não)
            :Operação cancelada;
            stop
        endif
    endif

repeat while (Selecionar outro horário?) is (sim)
->não;

stop

@enduml
